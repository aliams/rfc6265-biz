<!DOCTYPE html>
<script src="/tests/resources/testharness.js"></script>
<script src="/tests/resources/testharnessreport.js"></script>
<script src="/tests/resources/cookie-helper.js"></script>
<script>
 function create_secure_cookie_test(secure_origin, secure_cookie, cookie_expected, title) {
    promise_test(t => {
    	
      //TODO redirect to proper origin for test 
      //if (secure_origin == true) {} 

      var value = "" + Math.random();
      editAloneCookieFromJavaScript(value, secure_cookie, cookie_expected);
    }, title);
  }

  //verify that non-secure origins should not be able to overwrite secure cookies from JS
  create_secure_cookie_test(false, true, false, "non-secure origins using document.cookie cannot overwrite secure cookies");

  //verify that non-secure origins can overwrite insecure cookies from JS
  create_secure_cookie_test(false, false, true, "non-secure origins using document.cookie can overwrite insecure cookies");

  //verify that secure origins can overwrite insecure cookies from JS
  create_secure_cookie_test(true, false, true, "secure origins using document.cookie can overwrite insecure cookies");

  //verify that secure origins can overwrite secure cookies from JS
  create_secure_cookie_test(true, true, true, "secure origins using document.cookie can overwrite secure cookies");
</script>